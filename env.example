# ============================================
# Configuration Docker Superset
# ============================================
# Copiez ce fichier vers .env et modifiez les valeurs selon vos besoins
# cp env.example .env

# ============================================
# Chemins de stockage
# ============================================
DATA_PATH=./appData

# ============================================
# Nom du conteneur principal
# ============================================
MAIN_CONTAINER_NAME=superset

# ============================================
# Networks Docker
# ============================================
BACKEND_NETWORK=myapp
FRONTEND_NETWORK=gateway

# ============================================
# Configuration https-portal
# ============================================
# Définissez le domaine pour https-portal
# VIRTUAL_HOST=mydomain.local

# ============================================
# Superset
# ============================================
SUPERSET_VERSION=5.0.0
SUPERSET_PORT=8088
SUPERSET_BABEL_DEFAULT_LOCALE=fr
SUPERSET_APP_NAME=Superset

# Mapbox
MAPBOX_API_KEY=

# Logo personnalisé (chemin depuis /app/superset/static/assets/)
# Exemple: /static/assets/custom/logo.png
# Placez votre logo dans ${DATA_PATH}/superset/assets/logo.png
# SUPERSET_APP_ICON=/static/assets/custom/logo.png

# Favicons personnalisés (format PNG)
# Format JSON: [{"href": "/static/assets/custom/favicon.png"}]
# Ou format simple: /static/assets/custom/favicon.png
# Placez vos favicons dans ${DATA_PATH}/superset/assets/
# SUPERSET_FAVICONS=/static/assets/custom/favicon.png

# Secret key pour Superset (GÉNÉREZ UNE VALEUR UNIQUE !)
# Utilisez: python3 -c "import secrets; print(secrets.token_urlsafe(64))"
SUPERSET_SECRET_KEY=CHANGEZ_MOI_GENERER_UNE_CLE_SECRETE_ALEATOIRE

# Utilisateur admin initial
SUPERSET_ADMIN_USERNAME=admin
SUPERSET_ADMIN_EMAIL=admin@localhost
SUPERSET_ADMIN_PASSWORD=CHANGEZ_MOI_MOT_DE_PASSE_ADMIN

# ============================================
# PostgreSQL
# ============================================
POSTGRES_VERSION=16
POSTGIS_VERSION=3.4
POSTGRES_DB=superset
POSTGRES_USER=superset
POSTGRES_PASSWORD=CHANGEZ_MOI_MOT_DE_PASSE_POSTGRES
# Base de données pour les données utilisateurs (CSV uploadés, tables créées manuellement)
POSTGRES_USERDATA_DB=user_data

# ============================================
# Redis
# ============================================
REDIS_VERSION=7-alpine
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=CHANGEZ_MOI_MOT_DE_PASSE_REDIS

# ============================================
# Superset Chat Plugin
# ============================================
# Note: SQLALCHEMY_DATABASE_URI est automatiquement configurée dans docker-compose.yaml
# pour éviter les problèmes de résolution DNS/IPv6. Elle utilise le nom de service 'database'.

# Superset API Configuration (pour le plugin AI Assistant)
SUPERSET_API_URL=http://superset:8088
SUPERSET_USERNAME=${SUPERSET_ADMIN_USERNAME:-admin}
SUPERSET_PASSWORD=${SUPERSET_ADMIN_PASSWORD}

# MCP Configuration
TRANSPORT_TYPE=stdio
# Si vous utilisez SSE transport (optionnel)
# TRANSPORT_TYPE=sse
# MCP_HOST=mcp_sse_server:8000
# MCP_TOKEN=your_token

# LLM Provider Configuration (choisissez un seul provider)
# Pour OpenAI
# OPENAI_API_KEY=your_openai_key_here

# Pour Anthropic Claude
# ANTHROPIC_API_KEY=your_anthropic_key_here

# Pour AWS Bedrock (optionnel)
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_REGION=us-east-1

# Graph Database pour dbt (optionnel)
# GRAPH_DB=neo4j
# GRAPH_HOST=neo4j
# GRAPH_USER=neo4j
# GRAPH_PASSWORD=password

# Langfuse Observability (optionnel)
# LANGFUSE_HOST=https://cloud.langfuse.com
# LANGFUSE_PUBLIC_KEY=your_public_key
# LANGFUSE_SECRET_KEY=your_secret_key

